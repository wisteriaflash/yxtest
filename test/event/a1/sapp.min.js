var sapp=function(){var a={},b={};return b.move=function(){event.preventDefault()},b.start=function(a){b.ox=a.clientX||a.changedTouches[0].clientX,b.oy=a.clientY||a.changedTouches[0].clientY},b.end=function(a){b.nx=a.clientX||a.changedTouches[0].clientX,b.ny=a.clientY||a.changedTouches[0].clientY;var c=b.nx-b.ox,d=b.ny-b.oy;25>c*c+d*d||(Math.abs(c)>Math.abs(d)?sapp.event.call("swipe",{dir:c>0?"swipeRight":"swipeLeft"}):sapp.event.call("swipe",{dir:d>0?"swipeDown":"swipeUp"}))},document.addEventListener("touchstart",b.start),document.addEventListener("touchmove",b.move),document.addEventListener("touchend",b.end),document.addEventListener("mousedown",b.start),document.addEventListener("mouseup",b.end),document.onmousewheel=function(a){sapp.event.call("swipe",{dir:a.wheelDelta>0?"swipeDown":"swipeUp"})},a}();sapp.init=function(a){var b=$(a.page),c={},d=!1;sapp.page={now:-1,out:-1,length:b.length,next:function(){if(!d){var a=this.now+1<=this.length;a&&this.go(this.now+1),sapp.event.call("pageNext",{page:this.now,notEdge:a})}},prev:function(){if(!d){var a=this.now-1>=1;a&&this.go(this.now-1),sapp.event.call("pagePrev",{page:this.now,notEdge:a})}},go:function(b){if(!(d||(b=parseInt(b)||1,b==this.now||1>b||this.length<b))){var e=c[this.out],f=c[this.now];this.out=this.now,this.now=b,e&&e.sec.removeClass("out"),f&&f.sec.removeClass("in").addClass("out"),c[b].sec.addClass("in");for(var g=0;g<a.preload;g++){var h=b+g;if(h>this.length)break;c[h].load()}sapp.event.call("pageGo",{page:this.now}),sapp.page.lock(),setTimeout(sapp.page.unlock,1e3)}},lock:function(){d=!0},unlock:function(){d=!1}};for(var e=0;e<sapp.page.length;e++){var f={index:e+1,sec:b.eq(e),main:b.eq(e).children(".main"),loaded:!1};f.name=f.sec.attr("id"),f.load=function(){return this.loaded||(this.loaded=!0,this.sec.addClass("onload")),f},sapp.page[f.name]=f,c[f.index]=f,f.index<=a.preload&&f.load()}c[sapp.page.length].load()},sapp.event=function(){var a={},b={};return b.pool={},a.call=function(a,c){var d=b.getPool(a).listeners;for(var e in d)d[e](c||{})},a.on=function(c,d){var e=b.getPool(c).listeners,f=b.getFuncPos(e,d);return"function"==typeof d&&-1==f&&e.push(d),a},a.off=function(c,d){var e=b.getPool(c).listeners,f=b.getFuncPos(e,d);return-1!=f&&e.splice(f,1),a},b.getFuncPos=function(a,b){for(var c in a)if(a[c]===b)return c;return-1},b.getPool=function(a){return b.pool[a]=b.pool[a]||{listeners:[]},b.pool[a]},a}(),sapp.ua=function(){var a,b=navigator.userAgent.toLowerCase(),c=function(a){return-1!=b.indexOf(a)};return a={toString:function(){return b},weixin:c("micromessenger"),uc:c("ucbrowser"),ucweb:c("ucweb"),android:c("android"),ipad:c("ipad"),iphone:c("iphone"),ios:c("ipad")||c("iphone")||c("ipod")}}(),sapp.sound=function(){var a={},b={};return b.pool={},a.add=function(a,c){var d=a.split(/\/|\./),e=d[d.length-2];b.pool[e]=$.extend(new Audio(a),{preload:!0},c),$(b.pool[e]).on("ended",function(a){a.target.currentTime=0,a.target.currentTime&&(a.target.src=a.target.src),a.target.loop?a.target.play():(a.target.pause(),b.bgmusic&&b.bgmusicPlaying&&b.bgmusic.play())})},a.play=function(a,c){if(!a||"bgmusic"==a)return b.bgmusic&&(b.bgmusicPlaying=!0,b.bgmusic.play()),void 0;var d=b.pool[a];if(d){try{d.currentTime=c||0}catch(e){}b.bgmusic&&b.bgmusic.pause(),d.play()}},a.pause=function(a){if(a&&"bgmusic"!=a){var d=b.pool[a];d&&d.pause(),b.bgmusic&&b.bgmusicPlaying&&b.bgmusic.play()}else{b.bgmusic&&(b.bgmusicPlaying=!1,b.bgmusic.pause());for(var c in b.pool)b.pool[c].pause()}},a.bgmusic=function(a,c){b.bgmusic=$.extend(new Audio(a),{preload:!0,loop:!0,autoplay:!0},c),b.bgmusicPlaying=b.bgmusic.autoplay},a}(),sapp.share=function(a){var b={};return a=$.extend({title:document.title,text:document.title,url:document.location.href,img:"http://s2.vipstatic.com/img/te/resource/vip.png"},a),document.addEventListener("WeixinJSBridgeReady",function(){WeixinJSBridge.on("menu:share:timeline",function(){sapp.event.call("share",{type:"weixin_timeline"}),WeixinJSBridge.invoke("shareTimeline",{img_url:a.img,link:a.url,desc:a.text,title:a.text})}),WeixinJSBridge.on("menu:share:appmessage",function(){sapp.event.call("share",{type:"weixin_message"}),WeixinJSBridge.invoke("sendAppMessage",{img_url:a.img,link:a.url,desc:a.text,title:a.title})}),WeixinJSBridge.on("menu:share:weibo",function(){sapp.event.call("share",{type:"weibo"}),WeixinJSBridge.invoke("shareWeibo",{content:a.text,url:a.url})})}),b.setText=function(b){a.text=b},b},sapp.fill=function(a){var b={width:"100% 0%",height:"0% 100%",cover:"0% 0%",contain:"100% 100%"};a=$.extend({width:640,height:960,mode:"100% 100%"},a);var c=$(a.target),d=$(window);a.mode=(b[a.mode]||a.mode).split(" "),a.mode[1]=a.mode[1]||a.mode[0],$(window).resize(function(){var b=d.width()/a.width,e=d.height()/a.height,f=Math.max(b,e),h=(Math.min(b,e),100*(b/parseInt(a.mode[0]))),i=100*(e/parseInt(a.mode[1])),j=Math.min(h,i,f);c.css({width:parseInt(j*a.width),height:parseInt(j*a.height)})}).resize()};